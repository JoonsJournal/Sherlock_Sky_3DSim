<!DOCTYPE html>
<html lang="ko" data-theme="dark">
<!--
 * dashboard.html - Multi-Site Dashboard Entry Point
 * 
 * @version 1.0.1
 * @created 2026-02-03
 * @modified 2026-02-03
 * @phase Phase 2: Site Dashboard êµ¬í˜„
 * 
 * @description
 * Multi-Site Monitoring Systemì˜ Entry Point
 * - ëª¨ë“  ì—°ê²°ëœ Siteë¥¼ ì¹´ë“œ í˜•íƒœë¡œ í‘œì‹œ
 * - Siteë³„ ì‹¤ì‹œê°„ Summary ì—…ë°ì´íŠ¸ (30ì´ˆ ê°„ê²©)
 * - Monitoring/Analysis/Setup Mode ì§„ì… ì§€ì 
 * 
 * @dependencies
 * - styles/main.css: ì „ì—­ ìŠ¤íƒ€ì¼
 * - src/styles/components/dashboard/_dashboard.css: Dashboard ì „ìš© ìŠ¤íƒ€ì¼
 * - src/dashboard/index.js: Dashboard ëª¨ë“ˆ
 * - public/env-config.js: í™˜ê²½ ì„¤ì •
 * 
 * @changelog
 * - v1.0.0 (2026-02-03): ìµœì´ˆ êµ¬í˜„
 * - v1.0.1 (2026-02-03): ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ ì œê±°, CSS íŒŒì¼ë¡œ ë¶„ë¦¬
 * 
 * ìœ„ì¹˜: frontend/threejs_viewer/dashboard.html
-->

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ­ SHERLOCK SKY - Multi-Site Dashboard</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Main CSS -->
    <link rel="stylesheet" href="styles/main.css">
    
    <!-- Dashboard CSS (ê°€ì´ë“œë¼ì¸ ì¤€ìˆ˜ - Design Token ì‚¬ìš©) -->
    <link rel="stylesheet" href="src/styles/components/dashboard/_dashboard.css">
    
    <!-- ìµœì†Œí•œì˜ ê¸°ë³¸ ìŠ¤íƒ€ì¼ë§Œ ì¸ë¼ì¸ ìœ ì§€ -->
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            display: flex; 
            flex-direction: column;
            min-height: 100vh; 
            overflow-x: hidden; 
            font-family: 'Inter', 'Segoe UI', sans-serif; 
            background: var(--bg-main); 
            color: var(--color-text-primary);
        }
    </style>
</head>

<body>
    <!-- Toast Container -->
    <div class="toast-container" id="toast-container"></div>
    
    <!-- Global Alert Banner (ìœ„í—˜ ì•Œë¦¼ìš©) -->
    <div id="global-alert-banner" class="global-alert-banner hidden"></div>
    
    <!-- Dashboard Layout -->
    <div class="dashboard-layout">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="dashboard-header__logo">
                <span class="dashboard-header__icon">ğŸ­</span>
                <h1 class="dashboard-header__title">
                    SHERLOCK SKY
                    <span class="dashboard-header__subtitle">Multi-Site Dashboard</span>
                </h1>
            </div>
            <div class="dashboard-header__status">
                <div class="connection-indicator" id="connection-indicator">
                    <span class="connection-indicator__dot"></span>
                    <span class="connection-indicator__text">ì—°ê²° ì¤‘...</span>
                </div>
                <div class="header-time" id="header-time"></div>
            </div>
        </header>
        
        <!-- Main Content -->
        <main class="dashboard-main" id="dashboard-main">
            <!-- Loading State (ì´ˆê¸°) -->
            <div class="dashboard-loading" id="dashboard-loading">
                <div class="dashboard-loading__spinner"></div>
                <div class="dashboard-loading__text">Site ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
            </div>
            
            <!-- Site Cards Container -->
            <div id="site-cards-container" class="hidden"></div>
            
            <!-- Empty State -->
            <div id="dashboard-empty" class="dashboard-empty hidden">
                <div class="dashboard-empty__icon">ğŸ”Œ</div>
                <h2 class="dashboard-empty__title">ì—°ê²°ëœ Siteê°€ ì—†ìŠµë‹ˆë‹¤</h2>
                <p class="dashboard-empty__description">
                    databases.json ì„¤ì •ì„ í™•ì¸í•˜ê±°ë‚˜ Backend ì„œë²„ ì—°ê²° ìƒíƒœë¥¼ ì ê²€í•´ì£¼ì„¸ìš”.
                </p>
            </div>
        </main>
        
        <!-- Footer (Summary) -->
        <footer class="dashboard-footer">
            <div id="summary-footer"></div>
        </footer>
    </div>
    
    <!-- Environment Config -->
    <script src="public/env-config.js"></script>
    
    <script>
        // ì „ì—­ ìƒíƒœ ì´ˆê¸°í™”
        window.dashboardState = window.dashboardState || {
            sites: new Map(),
            selectedSiteId: null,
            wsConnected: false,
            lastUpdated: null
        };
        
        // FOUC ë°©ì§€: ì €ì¥ëœ í…Œë§ˆ ì¦‰ì‹œ ì ìš©
        (function loadTheme() {
            const saved = localStorage.getItem('theme') || 'dark';
            document.documentElement.setAttribute('data-theme', saved);
        })();
        
        // í˜„ì¬ ì‹œê°„ í‘œì‹œ
        function updateHeaderTime() {
            const el = document.getElementById('header-time');
            if (el) {
                const now = new Date();
                el.textContent = now.toLocaleTimeString('ko-KR', { 
                    hour: '2-digit', 
                    minute: '2-digit', 
                    second: '2-digit' 
                });
            }
        }
        setInterval(updateHeaderTime, 1000);
        updateHeaderTime();
        
        console.log('ğŸ­ SHERLOCK SKY - Multi-Site Dashboard v1.0.1');
    </script>
    
    <!-- Main Dashboard Module (ES Module) -->
    <script type="module" src="./src/dashboard/index.js"></script>
</body>
</html>