<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í‚¤ë³´ë“œ ì´ë²¤íŠ¸ ë””ë²„ê¹…</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #333;
            margin-top: 0;
        }
        
        h2 {
            color: #667eea;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        
        .status {
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            font-weight: bold;
        }
        
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        
        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        #log {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 15px;
            border-radius: 5px;
            height: 400px;
            overflow-y: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
        }
        
        .log-entry {
            margin: 5px 0;
            padding: 5px;
            border-left: 3px solid transparent;
        }
        
        .log-keydown {
            border-left-color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
        }
        
        .log-delete {
            border-left-color: #f44336;
            background: rgba(244, 67, 54, 0.1);
        }
        
        .log-escape {
            border-left-color: #ff9800;
            background: rgba(255, 152, 0, 0.1);
        }
        
        .log-info {
            border-left-color: #2196F3;
            background: rgba(33, 150, 243, 0.1);
        }
        
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
        }
        
        button:hover {
            background: #5568d3;
        }
        
        .key-box {
            display: inline-block;
            background: #f0f0f0;
            border: 2px solid #ccc;
            border-radius: 5px;
            padding: 10px 15px;
            margin: 5px;
            font-weight: bold;
            font-family: monospace;
        }
        
        .instructions {
            background: #e3f2fd;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin: 15px 0;
        }
        
        .instructions ol {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .instructions li {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¹ í‚¤ë³´ë“œ ì´ë²¤íŠ¸ ë””ë²„ê¹… ë„êµ¬</h1>
        
        <div id="status" class="status warning">
            â³ ëŒ€ê¸° ì¤‘... ì•„ë¬´ í‚¤ë‚˜ ëˆŒëŸ¬ë³´ì„¸ìš”
        </div>
        
        <div class="instructions">
            <h3>ğŸ“‹ í…ŒìŠ¤íŠ¸ ë°©ë²•:</h3>
            <ol>
                <li>ì´ í˜ì´ì§€ì— <strong>í¬ì»¤ìŠ¤</strong>ê°€ ìˆëŠ”ì§€ í™•ì¸ (í˜ì´ì§€ ì•„ë¬´ ê³³ì´ë‚˜ í´ë¦­)</li>
                <li>ì•„ë˜ í‚¤ë“¤ì„ ëˆŒëŸ¬ë³´ì„¸ìš”:
                    <div>
                        <span class="key-box">Delete</span>
                        <span class="key-box">Backspace</span>
                        <span class="key-box">Escape</span>
                        <span class="key-box">Shift</span>
                        <span class="key-box">Ctrl</span>
                    </div>
                </li>
                <li>ë¡œê·¸ ì°½ì—ì„œ ì´ë²¤íŠ¸ê°€ ê°ì§€ë˜ëŠ”ì§€ í™•ì¸</li>
            </ol>
        </div>
        
        <h2>ğŸ“Š í†µê³„</h2>
        <div style="display: flex; gap: 20px;">
            <div>ì´ ì´ë²¤íŠ¸: <strong id="totalCount">0</strong></div>
            <div>Delete: <strong id="deleteCount">0</strong></div>
            <div>Backspace: <strong id="backspaceCount">0</strong></div>
            <div>Escape: <strong id="escapeCount">0</strong></div>
            <div>Shift: <strong id="shiftCount">0</strong></div>
            <div>Ctrl: <strong id="ctrlCount">0</strong></div>
        </div>
        
        <h2>ğŸ” ì‹¤ì‹œê°„ ë¡œê·¸</h2>
        <button onclick="clearLog()">ë¡œê·¸ ì§€ìš°ê¸°</button>
        <button onclick="testProgrammatic()">í”„ë¡œê·¸ë˜ë° ë°©ì‹ìœ¼ë¡œ Delete ì´ë²¤íŠ¸ ë°œìƒ</button>
        
        <div id="log"></div>
    </div>

    <script>
        const log = document.getElementById('log');
        const status = document.getElementById('status');
        
        let totalCount = 0;
        let deleteCount = 0;
        let backspaceCount = 0;
        let escapeCount = 0;
        let shiftCount = 0;
        let ctrlCount = 0;
        
        function updateStats() {
            document.getElementById('totalCount').textContent = totalCount;
            document.getElementById('deleteCount').textContent = deleteCount;
            document.getElementById('backspaceCount').textContent = backspaceCount;
            document.getElementById('escapeCount').textContent = escapeCount;
            document.getElementById('shiftCount').textContent = shiftCount;
            document.getElementById('ctrlCount').textContent = ctrlCount;
        }
        
        function addLog(msg, type = 'info') {
            const div = document.createElement('div');
            div.className = 'log-entry log-' + type;
            const timestamp = new Date().toLocaleTimeString('ko-KR', { 
                hour: '2-digit', 
                minute: '2-digit', 
                second: '2-digit',
                fractionalSecondDigits: 3
            });
            div.textContent = `[${timestamp}] ${msg}`;
            log.appendChild(div);
            log.scrollTop = log.scrollHeight;
            
            totalCount++;
            updateStats();
        }
        
        function clearLog() {
            log.innerHTML = '';
            totalCount = 0;
            deleteCount = 0;
            backspaceCount = 0;
            escapeCount = 0;
            shiftCount = 0;
            ctrlCount = 0;
            updateStats();
            addLog('âœ… ë¡œê·¸ ì´ˆê¸°í™”ë¨', 'info');
        }
        
        function testProgrammatic() {
            addLog('ğŸ¤– í”„ë¡œê·¸ë˜ë° ë°©ì‹ìœ¼ë¡œ Delete ì´ë²¤íŠ¸ ë°œìƒ', 'info');
            const event = new KeyboardEvent('keydown', { 
                key: 'Delete',
                code: 'Delete',
                bubbles: true 
            });
            window.dispatchEvent(event);
        }
        
        // Window ë ˆë²¨ ì´ë²¤íŠ¸ (ê°€ì¥ ë°”ê¹¥)
        window.addEventListener('keydown', (e) => {
            const msg = `ğŸŸ¢ window.keydown - key="${e.key}", code="${e.code}", target="${e.target.tagName}"`;
            
            if (e.key === 'Delete') {
                addLog(msg, 'delete');
                deleteCount++;
                status.className = 'status success';
                status.textContent = 'âœ… Delete í‚¤ ê°ì§€ë¨!';
            } else if (e.key === 'Backspace') {
                addLog(msg, 'delete');
                backspaceCount++;
                status.className = 'status success';
                status.textContent = 'âœ… Backspace í‚¤ ê°ì§€ë¨! (Deleteì™€ ë™ì¼í•˜ê²Œ ì‘ë™)';
            } else if (e.key === 'Escape') {
                addLog(msg, 'escape');
                escapeCount++;
                status.className = 'status success';
                status.textContent = 'âœ… Escape í‚¤ ê°ì§€ë¨!';
            } else if (e.key === 'Shift') {
                addLog(msg, 'keydown');
                shiftCount++;
                status.className = 'status success';
                status.textContent = 'âœ… Shift í‚¤ ê°ì§€ë¨!';
            } else if (e.key === 'Control' || e.key === 'Meta') {
                addLog(msg, 'keydown');
                ctrlCount++;
                status.className = 'status success';
                status.textContent = 'âœ… Ctrl í‚¤ ê°ì§€ë¨!';
            } else {
                addLog(msg, 'keydown');
                status.className = 'status success';
                status.textContent = `âœ… "${e.key}" í‚¤ ê°ì§€ë¨!`;
            }
            
            updateStats();
        });
        
        // Document ë ˆë²¨ ì´ë²¤íŠ¸
        document.addEventListener('keydown', (e) => {
            const msg = `ğŸ”µ document.keydown - key="${e.key}", code="${e.code}"`;
            addLog(msg, 'info');
        });
        
        // ì´ˆê¸° ë¡œê·¸
        addLog('âœ… í‚¤ë³´ë“œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡ ì™„ë£Œ', 'info');
        addLog('ğŸ“Œ window.addEventListener ì‚¬ìš© (ObjectSelectionToolê³¼ ë™ì¼)', 'info');
        addLog('âŒ¨ï¸ ì´ì œ Delete, Backspace, Escape, Shift, Ctrl í‚¤ë¥¼ ëˆŒëŸ¬ë³´ì„¸ìš”', 'info');
        addLog('ğŸ’¡ ë…¸íŠ¸ë¶ ì‚¬ìš©ì: Delete í‚¤ ëŒ€ì‹  Backspaceë¥¼ ì‚¬ìš©í•˜ì„¸ìš”!', 'info');
        
        // í¬ì»¤ìŠ¤ ê°ì§€
        window.addEventListener('focus', () => {
            addLog('ğŸ‘ï¸ í˜ì´ì§€ê°€ í¬ì»¤ìŠ¤ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤', 'info');
        });
        
        window.addEventListener('blur', () => {
            addLog('âš ï¸ í˜ì´ì§€ê°€ í¬ì»¤ìŠ¤ë¥¼ ìƒì—ˆìŠµë‹ˆë‹¤ (ë‹¤ë¥¸ ì°½/íƒ­ìœ¼ë¡œ ì´ë™)', 'info');
            status.className = 'status warning';
            status.textContent = 'âš ï¸ í¬ì»¤ìŠ¤ë¥¼ ìƒì—ˆìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ í´ë¦­í•˜ì„¸ìš”.';
        });
        
        // í´ë¦­ ê°ì§€
        document.addEventListener('click', () => {
            addLog('ğŸ–±ï¸ í˜ì´ì§€ í´ë¦­ë¨ (í¬ì»¤ìŠ¤ ë³µì›)', 'info');
        });
    </script>
</body>
</html>