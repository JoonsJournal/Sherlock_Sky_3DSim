/**
 * _mini-timeline.css
 * ==================
 * ë¯¸ë‹ˆ íƒ€ì„ë¼ì¸ ìŠ¤íƒ€ì¼
 * ìµœê·¼ 1ì‹œê°„ ìƒíƒœ íˆìŠ¤í† ë¦¬ ì‹œê°í™” ì»´í¬ë„ŒíŠ¸
 * 
 * Block: .mini-timeline
 * 
 * @version 1.1.0
 * @updated 2026-01-19
 * 
 * @changelog
 * - v1.1.0 (2026-01-19): ê°€ì´ë“œë¼ì¸ ì¤€ìˆ˜ + ì ‘ê·¼ì„± ê°•í™”
 *   - ğŸ†• Tooltip Arrow (::after) ì¶”ê°€
 *   - ğŸ†• Reduced Motion ì ‘ê·¼ì„± ì¶”ê°€
 *   - ğŸ†• CSS Variables ë¡œì»¬ ì •ì˜ ì¶”ê°€
 *   - âš ï¸ í˜¸í™˜ì„±: v1.0.0ì˜ ëª¨ë“  ìŠ¤íƒ€ì¼ 100% ìœ ì§€
 * - v1.0.0: ì´ˆê¸° ë²„ì „
 *   - Canvas ê¸°ë°˜ íƒ€ì„ë¼ì¸ ì‹œê°í™”
 *   - Tooltip êµ¬ì¡° (time, status, duration)
 *   - Loading shimmer ì• ë‹ˆë©”ì´ì…˜
 *   - Dark Theme, Card integration
 * 
 * [BEM êµ¬ì¡°]
 * .mini-timeline                         â†’ Block
 * .mini-timeline__canvas                 â†’ Element (ìº”ë²„ìŠ¤)
 * .mini-timeline__tooltip                â†’ Element (íˆ´íŒ)
 * .mini-timeline__tooltip-time           â†’ Element (íˆ´íŒ ì‹œê°„)
 * .mini-timeline__tooltip-status         â†’ Element (íˆ´íŒ ìƒíƒœ)
 * .mini-timeline__tooltip-duration       â†’ Element (íˆ´íŒ ì§€ì†ì‹œê°„)
 * .mini-timeline__no-data                â†’ Element (ë°ì´í„° ì—†ìŒ)
 * .mini-timeline--hidden                 â†’ Modifier (ìˆ¨ê¹€)
 * .mini-timeline--loading                â†’ Modifier (ë¡œë”©)
 * .mini-timeline__tooltip--visible       â†’ Modifier (íˆ´íŒ í‘œì‹œ)
 * 
 * [Interactive States]
 * Normal â†’ Hover (íˆ´íŒ í‘œì‹œ) â†’ Click (ìƒì„¸)
 * 
 * ğŸ“ ìœ„ì¹˜: frontend/threejs_viewer/styles/components/ranking-view/_mini-timeline.css
 */

/* =============================================
   ğŸ†• v1.1.0: CSS Variables (Local)
   ============================================= */
.mini-timeline {
    --mt-height: 12px;
    --mt-radius: var(--radius-sm, 4px);
    --mt-transition: var(--transition-fast, 0.15s ease);
}

/* =============================================
   Block (Base)
   ============================================= */
.mini-timeline {
    /* Layout */
    position: relative;
    display: flex;
    align-items: center;
    width: 100%;
    
    /* Box Model */
    height: var(--mt-height);
    margin-top: var(--spacing-1);
    
    /* Visual */
    border-radius: var(--mt-radius);
    overflow: hidden;
}

/* =============================================
   Status Colors (for reference in JS)
   ìƒíƒœë³„ ìƒ‰ìƒ CSS ë³€ìˆ˜
   ============================================= */
.mini-timeline {
    --status-run: var(--interactive-success, #22c55e);
    --status-suddenstop: var(--interactive-danger-normal, #ef4444);
    --status-stop: var(--interactive-warning, #f97316);
    --status-idle: var(--status-idle-color, #eab308);
    --status-wait: var(--content-muted, #94a3b8);
    --status-remote: var(--interactive-primary-normal, #8b5cf6);
    --status-unknown: var(--content-disabled, #64748b);
}

/* =============================================
   Element: Canvas
   ============================================= */
.mini-timeline__canvas {
    /* Layout */
    display: block;
    width: 100%;
    height: 100%;
    
    /* Interaction */
    cursor: pointer;
    
    /* Transition */
    transition: opacity var(--mt-transition);
}

.mini-timeline__canvas:hover {
    opacity: 0.9;
}

/* =============================================
   Element: Tooltip
   ============================================= */
.mini-timeline__tooltip {
    /* Layout */
    position: absolute;
    display: flex;
    flex-direction: column;
    gap: var(--spacing-0-5, 2px);
    z-index: var(--z-tooltip, 700);
    
    /* Box Model */
    padding: var(--spacing-2) var(--spacing-3);
    
    /* Visual */
    background: var(--surface-panel);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-lg);
    
    /* Initial State */
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    
    /* Transition */
    transition: 
        opacity var(--mt-transition),
        visibility var(--mt-transition);
    
    /* Positioning offset */
    transform: translateY(-100%) translateX(-50%);
    
    /* Prevent text wrapping */
    white-space: nowrap;
}

/* ğŸ†• v1.1.0: Tooltip Arrow */
.mini-timeline__tooltip::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    
    /* Arrow */
    border: 5px solid transparent;
    border-top-color: var(--surface-panel);
}

/* íˆ´íŒ í‘œì‹œ ìƒíƒœ */
.mini-timeline__tooltip--visible {
    opacity: 1;
    visibility: visible;
}

/* =============================================
   Element: Tooltip Sub-elements
   ============================================= */

/* íˆ´íŒ ì‹œê°„ */
.mini-timeline__tooltip-time {
    /* Typography */
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-medium);
    color: var(--content-secondary);
    font-family: var(--font-family-mono);
}

/* íˆ´íŒ ìƒíƒœ */
.mini-timeline__tooltip-status {
    /* Typography */
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-semibold);
    color: var(--content-primary);
}

/* íˆ´íŒ ì§€ì†ì‹œê°„ */
.mini-timeline__tooltip-duration {
    /* Typography */
    font-size: var(--font-size-xs);
    color: var(--content-muted);
    font-family: var(--font-family-mono);
}

/* =============================================
   Element: No Data
   ============================================= */
.mini-timeline__no-data {
    /* Layout */
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: none;
    justify-content: center;
    align-items: center;
    
    /* Typography */
    font-size: var(--font-size-xs);
    color: var(--content-muted);
    
    /* Visual */
    background: var(--surface-secondary);
    border-radius: var(--mt-radius);
}

/* =============================================
   Modifiers
   ============================================= */

/* ìˆ¨ê¹€ */
.mini-timeline--hidden {
    display: none;
}

/* ë¡œë”© */
.mini-timeline--loading {
    opacity: 0.5;
    pointer-events: none;
}

.mini-timeline--loading::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        90deg,
        transparent 0%,
        var(--surface-hover) 50%,
        transparent 100%
    );
    animation: mini-timeline-shimmer 1.5s infinite;
}

/* =============================================
   Animations
   ============================================= */
@keyframes mini-timeline-shimmer {
    0% {
        transform: translateX(-100%);
    }
    100% {
        transform: translateX(100%);
    }
}

/* =============================================
   Responsive
   ============================================= */

/* ì‘ì€ í™”ë©´ */
@media (max-width: 768px) {
    .mini-timeline {
        --mt-height: 10px;
    }
    
    .mini-timeline__tooltip {
        font-size: var(--font-size-xs);
        padding: var(--spacing-1-5) var(--spacing-2);
    }
}

/* ì•„ì£¼ ì‘ì€ í™”ë©´ */
@media (max-width: 480px) {
    .mini-timeline {
        --mt-height: 8px;
    }
    
    .mini-timeline__tooltip {
        display: none;
    }
}

/* =============================================
   ğŸ†• v1.1.0: Reduced Motion (ì ‘ê·¼ì„±)
   ============================================= */
@media (prefers-reduced-motion: reduce) {
    .mini-timeline__tooltip {
        transition: none;
    }
    
    .mini-timeline__canvas {
        transition: none;
    }
    
    .mini-timeline--loading::after {
        animation: none;
    }
}

/* =============================================
   Dark Theme ì¡°ì •
   ============================================= */
[data-theme="dark"] .mini-timeline__tooltip {
    background: var(--surface-panel);
    border-color: var(--border-subtle);
    box-shadow: 
        var(--shadow-lg),
        0 0 20px rgba(0, 0, 0, 0.3);
}

/* ğŸ†• v1.1.0: Dark Theme Arrow ìƒ‰ìƒ */
[data-theme="dark"] .mini-timeline__tooltip::after {
    border-top-color: var(--surface-panel);
}

[data-theme="dark"] .mini-timeline__canvas:hover {
    opacity: 0.85;
}

/* =============================================
   ì¹´ë“œ ë‚´ë¶€ì—ì„œ ì‚¬ìš© ì‹œ ìŠ¤íƒ€ì¼
   ============================================= */
.equipment-card .mini-timeline {
    margin-top: var(--spacing-2);
}

.equipment-card__timeline .mini-timeline {
    width: 100%;
}

/* =============================================
   Legacy Alias (í•˜ìœ„ í˜¸í™˜)
   ============================================= */
.mini-timeline.hidden {
    display: none;
}

.mini-timeline.loading {
    opacity: 0.5;
    pointer-events: none;
}