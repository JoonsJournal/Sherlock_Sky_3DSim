/**
 * _equipment-card.css
 * ===================
 * ì„¤ë¹„ ì¹´ë“œ ìŠ¤íƒ€ì¼ (ê¸´ê¸‰ë„ í‘œì‹œ ê°•í™” ë²„ì „)
 * 
 * Block: .equipment-card
 * 
 * @version 1.2.0
 * @updated 2026-01-19
 * 
 * @changelog
 * - v1.2.0 (2026-01-19): ê°€ì´ë“œë¼ì¸ ì¤€ìˆ˜ + ì¶”ê°€ ê¸°ëŠ¥ í†µí•©
 *   - ğŸ†• CSS Variables ì •ì˜ (--card-bg, --card-border ë“±)
 *   - ğŸ†• __production-percent ìš”ì†Œ ì¶”ê°€
 *   - ğŸ†• __alarm-code strong ìŠ¤íƒ€ì¼
 *   - ğŸ†• ìƒíƒœë³„ __duration ë°°ê²½ìƒ‰ ë³€ê²½
 *   - âš ï¸ í˜¸í™˜ì„±: v1.1.0ì˜ ëª¨ë“  ìŠ¤íƒ€ì¼ 100% ìœ ì§€
 * - v1.1.0: ê¸´ê¸‰ë„ í‘œì‹œ ê°•í™”
 *   - URGENCY_WARNING, URGENCY_DANGER, URGENCY_CRITICAL ìŠ¤íƒ€ì¼ ì¶”ê°€
 *   - Pulse ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€
 *   - Dark Theme ì¡°ì •
 *   - Reduced Motion ì ‘ê·¼ì„±
 * - v1.0.0: ì´ˆê¸° ë²„ì „
 *   - ì¹´ë“œ ê¸°ë³¸ ë ˆì´ì•„ì›ƒ
 *   - ìƒíƒœë³„ ìƒ‰ìƒ (RUN, STOP, IDLE ë“±)
 * 
 * [BEM êµ¬ì¡°]
 * .equipment-card                         â†’ Block
 * .equipment-card__header                 â†’ Element (í—¤ë”)
 * .equipment-card__status-indicator       â†’ Element (ìƒíƒœ ì¸ë””ì¼€ì´í„°)
 * .equipment-card__equipment-id           â†’ Element (ì„¤ë¹„ ID)
 * .equipment-card__duration               â†’ Element (ì§€ì† ì‹œê°„)
 * .equipment-card__duration-value         â†’ Element (ì§€ì† ì‹œê°„ ê°’)
 * .equipment-card__duration-label         â†’ Element (ì§€ì† ì‹œê°„ ë¼ë²¨)
 * .equipment-card__timeline               â†’ Element (ë¯¸ë‹ˆ íƒ€ì„ë¼ì¸ ì»¨í…Œì´ë„ˆ)
 * .equipment-card__alarm-info             â†’ Element (ì•ŒëŒ ì •ë³´)
 * .equipment-card__alarm-code             â†’ Element (ì•ŒëŒ ì½”ë“œ)
 * .equipment-card__alarm-name             â†’ Element (ì•ŒëŒ ì´ë¦„)
 * .equipment-card__alarm-repeat           â†’ Element (ì•ŒëŒ ë°˜ë³µ íšŸìˆ˜)
 * .equipment-card__production-info        â†’ Element (ìƒì‚° ì •ë³´)
 * .equipment-card__production-bar         â†’ Element (ì§„í–‰ë¥  ë°” ë°°ê²½)
 * .equipment-card__production-bar-fill    â†’ Element (ì§„í–‰ë¥  ë°” ì±„ì›€)
 * .equipment-card__production-count       â†’ Element (ìƒì‚° ê°œìˆ˜)
 * .equipment-card__production-percent     â†’ Element (ì§„í–‰ë¥  í¼ì„¼íŠ¸) ğŸ†• v1.2.0
 * .equipment-card__lot-time               â†’ Element (Lot ì‹œê°„)
 * .equipment-card--run                    â†’ Modifier (ê°€ë™)
 * .equipment-card--stop                   â†’ Modifier (ì •ì§€)
 * .equipment-card--idle                   â†’ Modifier (ìœ íœ´)
 * .equipment-card--sudden-stop            â†’ Modifier (ë¹„ìƒì •ì§€)
 * .equipment-card--remote                 â†’ Modifier (ì›ê²©)
 * .equipment-card--wait                   â†’ Modifier (ëŒ€ê¸°)
 * .equipment-card--urgency-warning        â†’ Modifier (5ë¶„ ì´ˆê³¼)
 * .equipment-card--urgency-danger         â†’ Modifier (10ë¶„ ì´ˆê³¼)
 * .equipment-card--urgency-critical       â†’ Modifier (15ë¶„ ì´ˆê³¼)
 * .equipment-card--animating              â†’ Modifier (ì• ë‹ˆë©”ì´ì…˜ ì¤‘)
 * .equipment-card--selected               â†’ Modifier (ì„ íƒë¨)
 * .equipment-card--entering               â†’ Modifier (ì§„ì… ì¤‘)
 * .equipment-card--leaving                â†’ Modifier (í‡´ì¥ ì¤‘)
 * 
 * [Interactive States]
 * Normal â†’ Hover â†’ Active â†’ Selected
 * 
 * [Urgency States]
 * Normal â†’ Warning (5ë¶„) â†’ Danger (10ë¶„) â†’ Critical (15ë¶„)
 * 
 * ğŸ“ ìœ„ì¹˜: frontend/threejs_viewer/styles/components/ranking-view/_equipment-card.css
 */

/* =============================================
   ğŸ†• v1.2.0: CSS Variables (Local)
   ============================================= */
.equipment-card {
    --card-bg: var(--surface-panel, rgba(255, 255, 255, 0.03));
    --card-border: var(--border-default, rgba(255, 255, 255, 0.1));
    --card-border-width: 1px;
    --card-radius: var(--radius-md, 8px);
    --card-padding: var(--spacing-3, 12px);
    --card-gap: var(--spacing-2, 8px);
    --card-transition: var(--transition-fast, 0.15s ease);
}

/* =============================================
   Block (Base)
   ============================================= */
.equipment-card {
    /* Layout */
    display: flex;
    flex-direction: column;
    gap: var(--card-gap);
    
    /* Box Model */
    padding: var(--card-padding);
    min-width: 140px;
    
    /* Visual */
    background: var(--card-bg);
    border: var(--card-border-width) solid var(--card-border);
    border-radius: var(--card-radius);
    
    /* Interaction */
    cursor: pointer;
    user-select: none;
    
    /* Transition */
    transition: 
        border-color var(--card-transition),
        box-shadow var(--card-transition),
        transform var(--card-transition),
        background-color var(--card-transition);
}

/* =============================================
   Interactive States
   ============================================= */
.equipment-card:hover {
    border-color: var(--border-strong);
    box-shadow: var(--shadow-md);
}

.equipment-card:active {
    transform: scale(0.98);
}

.equipment-card:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px var(--border-focus);
}

/* =============================================
   Block Modifiers - Status
   ============================================= */

/* RUN - ê°€ë™ ì¤‘ */
.equipment-card--run {
    border-left: 4px solid var(--interactive-success, #22c55e);
}

/* ğŸ†• v1.2.0: RUN Duration ë°°ê²½ìƒ‰ */
.equipment-card--run .equipment-card__duration {
    background: rgba(34, 197, 94, 0.15);
    color: var(--status-success, #22c55e);
}

/* STOP - ì •ì§€ */
.equipment-card--stop {
    border-left: 4px solid var(--interactive-warning, #f97316);
}

/* ğŸ†• v1.2.0: STOP Duration ë°°ê²½ìƒ‰ */
.equipment-card--stop .equipment-card__duration {
    background: rgba(239, 68, 68, 0.15);
    color: var(--status-danger, #ef4444);
}

/* IDLE - ìœ íœ´ */
.equipment-card--idle {
    border-left: 4px solid var(--status-idle-color, #eab308);
}

/* ğŸ†• v1.2.0: IDLE Duration ë°°ê²½ìƒ‰ */
.equipment-card--idle .equipment-card__duration {
    background: rgba(245, 158, 11, 0.15);
    color: var(--status-warning, #f59e0b);
}

/* SUDDEN-STOP - ë¹„ìƒ ì •ì§€ */
.equipment-card--sudden-stop {
    border-left: 4px solid var(--interactive-danger-normal, #ef4444);
    background: var(--surface-danger-subtle, rgba(239, 68, 68, 0.05));
}

/* ğŸ†• v1.2.0: SUDDEN-STOP Duration ë°°ê²½ìƒ‰ */
.equipment-card--sudden-stop .equipment-card__duration {
    background: rgba(220, 38, 38, 0.2);
    color: #fca5a5;
}

/* REMOTE - ì›ê²© */
.equipment-card--remote {
    border-left: 4px solid var(--interactive-primary-normal, #8b5cf6);
    background: var(--surface-primary-subtle, rgba(139, 92, 246, 0.05));
}

/* ğŸ†• v1.2.0: REMOTE Duration ë°°ê²½ìƒ‰ */
.equipment-card--remote .equipment-card__duration {
    background: rgba(185, 28, 28, 0.25);
    color: #fecaca;
}

/* WAIT - ëŒ€ê¸° */
.equipment-card--wait {
    border-left: 4px solid var(--content-muted, #94a3b8);
    opacity: 0.8;
}

/* ğŸ†• v1.2.0: WAIT Duration ë°°ê²½ìƒ‰ */
.equipment-card--wait .equipment-card__duration {
    background: rgba(107, 114, 128, 0.15);
    color: var(--content-tertiary, rgba(255, 255, 255, 0.5));
}

/* =============================================
   Block Modifiers - Urgency (ê¸´ê¸‰ë„)
   ============================================= */

/* 5ë¶„ ì´ˆê³¼ - ë…¸ë€ìƒ‰ í…Œë‘ë¦¬ (Warning) */
.equipment-card--urgency-warning {
    border-color: var(--interactive-warning, #eab308);
    border-width: 2px;
    box-shadow: 
        0 0 0 1px var(--interactive-warning, #eab308),
        var(--shadow-sm);
}

/* 10ë¶„ ì´ˆê³¼ - ì£¼í™©ìƒ‰ í…Œë‘ë¦¬ + Pulse (Danger) */
.equipment-card--urgency-danger {
    border-color: var(--interactive-danger-normal, #f97316);
    border-width: 2px;
    box-shadow: 
        0 0 0 2px var(--interactive-danger-normal, #f97316),
        var(--shadow-md);
    animation: urgency-pulse-danger 2s ease-in-out infinite;
}

/* 15ë¶„ ì´ˆê³¼ - ë¹¨ê°„ìƒ‰ í…Œë‘ë¦¬ + ê°•í•œ Pulse (Critical) */
.equipment-card--urgency-critical {
    border-color: var(--interactive-danger-normal, #ef4444);
    border-width: 2px;
    box-shadow: 
        0 0 0 3px var(--interactive-danger-normal, #ef4444),
        0 0 20px rgba(239, 68, 68, 0.4),
        var(--shadow-lg);
    animation: urgency-pulse-critical 1s ease-in-out infinite;
}

/* =============================================
   Urgency Animations (ê¸´ê¸‰ë„ ì• ë‹ˆë©”ì´ì…˜)
   ============================================= */

/* Danger Pulse - ì£¼í™©ìƒ‰ í„ìŠ¤ */
@keyframes urgency-pulse-danger {
    0%, 100% {
        box-shadow: 
            0 0 0 2px var(--interactive-danger-normal, #f97316),
            0 0 8px rgba(249, 115, 22, 0.3);
    }
    50% {
        box-shadow: 
            0 0 0 4px var(--interactive-danger-normal, #f97316),
            0 0 16px rgba(249, 115, 22, 0.5);
    }
}

/* Critical Pulse - ë¹¨ê°„ìƒ‰ ê°•í•œ í„ìŠ¤ */
@keyframes urgency-pulse-critical {
    0%, 100% {
        box-shadow: 
            0 0 0 3px var(--interactive-danger-normal, #ef4444),
            0 0 15px rgba(239, 68, 68, 0.4);
        transform: scale(1);
    }
    50% {
        box-shadow: 
            0 0 0 5px var(--interactive-danger-normal, #ef4444),
            0 0 25px rgba(239, 68, 68, 0.6);
        transform: scale(1.02);
    }
}

/* =============================================
   Block Modifiers - Animation
   ============================================= */

/* ì• ë‹ˆë©”ì´ì…˜ ì¤‘ */
.equipment-card--animating {
    pointer-events: none;
    transition: transform 0.3s ease-out;
}

/* ì§„ì… ì• ë‹ˆë©”ì´ì…˜ */
.equipment-card--entering {
    animation: card-enter 0.3s ease-out forwards;
}

/* í‡´ì¥ ì• ë‹ˆë©”ì´ì…˜ */
.equipment-card--leaving {
    animation: card-leave 0.3s ease-in forwards;
}

/* ì„ íƒë¨ */
.equipment-card--selected {
    border-color: var(--interactive-primary-normal);
    box-shadow: 
        0 0 0 2px var(--interactive-primary-normal),
        var(--shadow-lg);
    background: var(--surface-active);
}

/* =============================================
   Card Animations
   ============================================= */

@keyframes card-enter {
    0% {
        opacity: 0;
        transform: translateY(-10px) scale(0.95);
    }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

@keyframes card-leave {
    0% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
    100% {
        opacity: 0;
        transform: translateY(10px) scale(0.95);
    }
}

/* =============================================
   Elements
   ============================================= */

/* Header */
.equipment-card__header {
    display: flex;
    align-items: center;
    gap: var(--spacing-2);
}

/* ìƒíƒœ ì¸ë””ì¼€ì´í„° */
.equipment-card__status-indicator {
    width: 10px;
    height: 10px;
    border-radius: var(--radius-full);
    flex-shrink: 0;
    
    /* Glow effect */
    box-shadow: 0 0 6px currentColor;
}

/* ê°€ë™ ì¤‘ ì¸ë””ì¼€ì´í„° ì ë©¸ */
.equipment-card--run .equipment-card__status-indicator {
    animation: indicator-pulse 1.5s ease-in-out infinite;
}

@keyframes indicator-pulse {
    0%, 100% {
        opacity: 1;
        box-shadow: 0 0 6px currentColor;
    }
    50% {
        opacity: 0.7;
        box-shadow: 0 0 12px currentColor;
    }
}

/* ì„¤ë¹„ ID */
.equipment-card__equipment-id {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-semibold);
    font-family: var(--font-family-mono);
    color: var(--content-primary);
    
    /* Truncate */
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* ì§€ì† ì‹œê°„ ì»¨í…Œì´ë„ˆ */
.equipment-card__duration {
    display: flex;
    align-items: baseline;
    gap: var(--spacing-1);
    
    /* ğŸ†• v1.2.0: ê¸°ë³¸ ë°°ê²½ */
    padding: var(--spacing-1, 4px) var(--spacing-2, 8px);
    background: rgba(255, 255, 255, 0.05);
    border-radius: var(--radius-sm, 4px);
}

.equipment-card__duration-value {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-bold);
    font-family: var(--font-family-mono);
    color: var(--content-primary);
}

.equipment-card__duration-label {
    font-size: var(--font-size-xs);
    color: var(--content-muted);
}

/* ê¸´ê¸‰ë„ì— ë”°ë¥¸ ì§€ì†ì‹œê°„ ìƒ‰ìƒ ë³€ê²½ */
.equipment-card--urgency-warning .equipment-card__duration-value {
    color: var(--interactive-warning, #eab308);
}

.equipment-card--urgency-danger .equipment-card__duration-value {
    color: var(--interactive-danger-normal, #f97316);
}

.equipment-card--urgency-critical .equipment-card__duration-value {
    color: var(--interactive-danger-normal, #ef4444);
    font-weight: var(--font-weight-bold);
}

/* ë¯¸ë‹ˆ íƒ€ì„ë¼ì¸ ì»¨í…Œì´ë„ˆ */
.equipment-card__timeline {
    width: 100%;
    /* ğŸ†• v1.2.0: ë†’ì´ ì¶”ê°€ */
    height: 24px;
    border-radius: var(--radius-sm, 4px);
    overflow: hidden;
}

/* ì•ŒëŒ ì •ë³´ */
.equipment-card__alarm-info {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: var(--spacing-1-5);
    
    font-size: var(--font-size-xs);
    
    /* ğŸ†• v1.2.0: ë°°ê²½ ë° í…Œë‘ë¦¬ */
    padding: var(--spacing-2, 8px);
    background: rgba(239, 68, 68, 0.1);
    border-radius: var(--radius-sm, 4px);
    border-left: 3px solid var(--status-danger, #ef4444);
}

.equipment-card__alarm-code {
    font-family: var(--font-family-mono);
    font-weight: var(--font-weight-medium);
    color: var(--interactive-danger-normal);
    background: var(--surface-danger-subtle, rgba(239, 68, 68, 0.1));
    padding: var(--spacing-0-5) var(--spacing-1);
    border-radius: var(--radius-sm);
}

/* ğŸ†• v1.2.0: alarm-code strong ìŠ¤íƒ€ì¼ */
.equipment-card__alarm-code strong {
    color: var(--status-danger, #ef4444);
}

.equipment-card__alarm-name {
    color: var(--content-secondary);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 80px;
}

.equipment-card__alarm-repeat {
    font-family: var(--font-family-mono);
    font-weight: var(--font-weight-semibold);
    color: var(--interactive-warning);
}

/* ìƒì‚° ì •ë³´ */
.equipment-card__production-info {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-1);
}

.equipment-card__production-bar {
    height: 4px;
    background: var(--surface-secondary);
    border-radius: var(--radius-full);
    overflow: hidden;
}

.equipment-card__production-bar-fill {
    height: 100%;
    background: var(--interactive-success);
    border-radius: var(--radius-full);
    transition: width var(--transition-base);
}

.equipment-card__production-count {
    font-size: var(--font-size-xs);
    font-family: var(--font-family-mono);
    color: var(--content-secondary);
}

/* ğŸ†• v1.2.0: production-count strong ìŠ¤íƒ€ì¼ */
.equipment-card__production-count strong {
    color: var(--content-primary, #ffffff);
    font-weight: var(--font-weight-semibold, 600);
}

/* ğŸ†• v1.2.0: ìƒì‚° í¼ì„¼íŠ¸ */
.equipment-card__production-percent {
    font-size: var(--font-size-xs, 12px);
    color: var(--content-tertiary, rgba(255, 255, 255, 0.5));
    text-align: right;
}

.equipment-card__lot-time {
    font-size: var(--font-size-xs);
    font-family: var(--font-family-mono);
    color: var(--content-muted);
    
    /* ğŸ†• v1.2.0: ìƒë‹¨ í…Œë‘ë¦¬ */
    padding-top: var(--spacing-1, 4px);
    border-top: 1px solid var(--border-subtle, rgba(255, 255, 255, 0.06));
}

/* =============================================
   Dark Theme ì¡°ì •
   ============================================= */
[data-theme="dark"] .equipment-card {
    background: var(--surface-panel);
}

[data-theme="dark"] .equipment-card:hover {
    background: var(--surface-hover);
}

[data-theme="dark"] .equipment-card--selected {
    background: var(--surface-active);
}

[data-theme="dark"] .equipment-card--sudden-stop {
    background: rgba(239, 68, 68, 0.08);
}

[data-theme="dark"] .equipment-card--remote {
    background: rgba(139, 92, 246, 0.08);
}

/* Dark í…Œë§ˆ ê¸´ê¸‰ë„ Glow ê°•í™” */
[data-theme="dark"] .equipment-card--urgency-danger {
    box-shadow: 
        0 0 0 2px var(--interactive-danger-normal, #f97316),
        0 0 20px rgba(249, 115, 22, 0.4);
}

[data-theme="dark"] .equipment-card--urgency-critical {
    box-shadow: 
        0 0 0 3px var(--interactive-danger-normal, #ef4444),
        0 0 30px rgba(239, 68, 68, 0.5);
}

/* =============================================
   Responsive
   ============================================= */

/* ì‘ì€ í™”ë©´ */
@media (max-width: 768px) {
    .equipment-card {
        min-width: 120px;
        padding: var(--spacing-2);
        --card-padding: var(--spacing-2, 8px);
        --card-gap: var(--spacing-1, 4px);
    }
    
    .equipment-card__duration-value {
        font-size: var(--font-size-base);
    }
    
    .equipment-card__equipment-id {
        font-size: var(--font-size-xs);
    }
}

/* =============================================
   Reduced Motion (ì ‘ê·¼ì„±)
   ============================================= */
@media (prefers-reduced-motion: reduce) {
    .equipment-card,
    .equipment-card--animating,
    .equipment-card--entering,
    .equipment-card--leaving,
    .equipment-card--urgency-danger,
    .equipment-card--urgency-critical {
        animation: none;
        transition: none;
    }
    
    .equipment-card--run .equipment-card__status-indicator {
        animation: none;
    }
}

/* =============================================
   Legacy Alias (í•˜ìœ„ í˜¸í™˜)
   ============================================= */
.equipment-card.selected {
    border-color: var(--interactive-primary-normal);
    box-shadow: 
        0 0 0 2px var(--interactive-primary-normal),
        var(--shadow-lg);
}

.equipment-card.active {
    border-color: var(--interactive-primary-normal);
}