/**
 * _viewer-3d.css
 * ==============
 * 3D Viewer ÌéòÏù¥ÏßÄ Ï†ÑÏö© Ïä§ÌÉÄÏùº
 * 
 * @version 1.2.1
 * @created 2026-01-02
 * @updated 2026-01-17
 * 
 * @changelog
 * - v1.2.1: üêõ FIX: Sidebar margin-left Ïù¥Ï§ë Ï†ÅÏö© Î≤ÑÍ∑∏ ÏàòÏ†ï (2026-01-17)
 *           - body:has(.sidebar) .app-layout margin-left Í∑úÏπô Ï†úÍ±∞
 *           - SidebarÍ∞Ä flex ÏûêÏãùÏúºÎ°ú Í≥µÍ∞ÑÏùÑ Ï∞®ÏßÄÌïòÎØÄÎ°ú Ï∂îÍ∞Ä margin Î∂àÌïÑÏöî
 *           - Î¨∏Ï†ú: Sidebar(80px) + margin-left(80px) = 160px Î∞ÄÎ¶º ÌòÑÏÉÅ
 * - v1.2.0: üÜï Equipment Drawer App Layout Ï∂îÍ∞Ä (2026-01-16)
 *           - .app-layout ÎûòÌçº ÌÅ¥ÎûòÏä§
 *           - Three.js Ïª®ÌÖåÏù¥ÎÑà ÏûêÎèô Î¶¨ÏÇ¨Ïù¥Ï¶à ÏßÄÏõê
 *           - SidebarÏôÄÏùò Í≥µÏ°¥ Ï≤òÎ¶¨
 * - v1.1.0: üîß Î¶¨Ìå©ÌÜ†ÎßÅ (2026-01-11)
 *           - index.html Ïä§ÌÉÄÏùº ÌÜµÌï©
 *           - Í∏∞Ï°¥ .hidden Ïú†Ìã∏Î¶¨Ìã∞ Ïú†ÏßÄ
 *           - 3D Î∑∞Ïñ¥ Í¥ÄÎ†® Ïä§ÌÉÄÏùº Î≥¥Í∞ï
 * - v1.0.0: Ï¥àÍ∏∞ Î≤ÑÏ†Ñ
 * 
 * Íµ¨Ï°∞:
 * - App Layout (Drawer ÏßÄÏõê)
 * - 3D Viewer Container
 * - Badge Ïä§ÌÉÄÏùº
 * - Info Box Ïä§ÌÉÄÏùº
 * - Card Ïä§ÌÉÄÏùº
 * - Utility Classes
 * - Connection Pool Info
 * 
 * ÏùòÏ°¥ÏÑ±:
 * - _variables.css (CSS Î≥ÄÏàò)
 * 
 * ÏúÑÏπò: frontend/threejs_viewer/styles/pages/_viewer-3d.css
 */

/* =============================================
   üÜï App Layout - Equipment Drawer ÏßÄÏõê
   =============================================
   body ÎÇ¥ app-layout ÌÅ¥ÎûòÏä§ Ï†ÅÏö© Ïãú ÌôúÏÑ±Ìôî
   - main-content: flex: 1 (ÎÇ®ÏùÄ Í≥µÍ∞Ñ Ï∞®ÏßÄ)
   - equipment-drawer: widthÎ°ú Ï†úÏñ¥
   
   ‚ö†Ô∏è Î†àÏù¥ÏïÑÏõÉ Íµ¨Ï°∞ (v1.2.1 Í∏∞Ï§Ä):
   [body display:flex]
   ‚îú‚îÄ‚îÄ [.sidebar 80px] ‚Üê position: relative, flex ÏûêÏãùÏúºÎ°ú Í≥µÍ∞Ñ Ï∞®ÏßÄ
   ‚îî‚îÄ‚îÄ [.app-layout]   ‚Üê flex: 1, ÎÇ®ÏùÄ Í≥µÍ∞Ñ ÏûêÎèô Ï∞®ÏßÄ (margin-left Î∂àÌïÑÏöî!)
       ‚îî‚îÄ‚îÄ [.main-content]
           ‚îî‚îÄ‚îÄ [#threejs-container]
   ============================================= */
.app-layout {
    display: flex;
    flex: 1;                   /* üîß v1.2.1: Sidebar ÏòÜ ÎÇ®ÏùÄ Í≥µÍ∞Ñ Ï∞®ÏßÄ */
    height: 100vh;
    overflow: hidden;
}

.app-layout > .main-content {
    flex: 1;
    min-width: 0;              /* flex item shrink ÌóàÏö© - Ï§ëÏöî! */
    min-width: 600px;          /* ÏµúÏÜå 3D Î∑∞Ïñ¥ ÎÑàÎπÑ */
    position: relative;
    overflow: hidden;
    /* Drawer Ïó¥Î¶º/Îã´Ìûò Ïãú Î∂ÄÎìúÎü¨Ïö¥ Ï†ÑÌôò */
    transition: flex var(--drawer-transition-duration, 0.3s) var(--drawer-transition-easing, ease);
}

/* Three.js Ïª®ÌÖåÏù¥ÎÑà - Î∂ÄÎ™® ÌÅ¨Í∏∞Ïóê ÎßûÏ∂§ */
.app-layout #threejs-container {
    width: 100%;
    height: 100%;
    position: relative;
}

/* CanvasÍ∞Ä Ïª®ÌÖåÏù¥ÎÑà ÌÅ¨Í∏∞Ïóê ÎßûÍ≤å Ï°∞Ï†ï */
.app-layout #threejs-container canvas {
    display: block;
    width: 100% !important;
    height: 100% !important;
}

/* Analysis Ïª®ÌÖåÏù¥ÎÑàÎèÑ ÎèôÏùºÌïòÍ≤å Ï≤òÎ¶¨ */
.app-layout #analysis-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

/* Overlay UI - ÏúÑÏπò Ï°∞Ï†ï */
.app-layout .overlay-ui {
    position: absolute;
    /* Í∏∞Ï°¥ ÏúÑÏπò Ïú†ÏßÄ */
}

/* =============================================
   üîß v1.2.1 FIX: Sidebar margin-left Í∑úÏπô Ï†úÍ±∞
   =============================================
   
   ‚ùå ÏÇ≠Ï†úÎêú ÏΩîÎìú (Ïù¥Ï§ë Ï†ÅÏö© Î¨∏Ï†ú Î∞úÏÉù):
   
   body:has(.sidebar) .app-layout {
       margin-left: var(--sidebar-width, 60px);
       width: calc(100vw - var(--sidebar-width, 60px));
   }
   
   body:has(.sidebar.expanded) .app-layout {
       margin-left: var(--sidebar-width-expanded, 200px);
       width: calc(100vw - var(--sidebar-width-expanded, 200px));
   }
   
   ‚úÖ Ïù¥Ïú†:
   - bodyÍ∞Ä display: flexÏùº Îïå sidebarÎäî flex ÏûêÏãùÏúºÎ°ú Ïù¥ÎØ∏ Í≥µÍ∞Ñ Ï∞®ÏßÄ
   - app-layoutÏóê margin-left Ï∂îÍ∞Ä Ïãú Ïù¥Ï§ëÏúºÎ°ú Î∞ÄÎ¶º
   - Í≤∞Í≥º: Sidebar(80px) + margin-left(80px) = 160px ÏôºÏ™Ω Îπà Í≥µÍ∞Ñ
   - flex: 1ÎßåÏúºÎ°ú Ï∂©Î∂ÑÌûà ÎÇ®ÏùÄ Í≥µÍ∞ÑÏùÑ Ï∞®ÏßÄÌï®
   ============================================= */

/* ÏûëÏùÄ ÌôîÎ©¥ ÎåÄÏùë */
@media (max-width: 1024px) {
    .app-layout > .main-content {
        min-width: 400px;
    }
}

@media (max-width: 768px) {
    .app-layout > .main-content {
        min-width: 0;
    }
    
    /* DrawerÍ∞Ä Ï†ÑÏ≤¥ ÌôîÎ©¥ */
    .app-layout .equipment-drawer--open,
    .app-layout .equipment-drawer--opening {
        width: 100vw;
    }
}

/* =============================================
   3D Viewer Container (Í∏∞Ï°¥)
   ============================================= */
.viewer-3d-container {
    position: relative;
    width: 100%;
    height: 100vh;
    overflow: hidden;
}

/* =============================================
   Badge Ïä§ÌÉÄÏùº
   ============================================= */
.badge {
    display: inline-block;
    padding: var(--spacing-xs, 4px) 10px;
    border-radius: 12px;
    font-size: var(--font-size-sm, 12px);
    font-weight: 600;
    white-space: nowrap;
}

.badge-success {
    background: #d4edda;
    color: #155724;
}

.badge-warning {
    background: #fff3cd;
    color: #856404;
}

.badge-danger {
    background: #f8d7da;
    color: #721c24;
}

.badge-info {
    background: #d1ecf1;
    color: #0c5460;
}

.badge-secondary {
    background: #e2e3e5;
    color: #383d41;
}

/* =============================================
   Info Box Ïä§ÌÉÄÏùº
   ============================================= */
.info-box {
    padding: 15px;
    border-radius: var(--radius-md, 8px);
    margin: 10px 0;
}

.info-box-success {
    background: #d4edda;
    border-left: 4px solid var(--color-success, #28a745);
    color: #155724;
}

.info-box-error {
    background: #f8d7da;
    border-left: 4px solid var(--color-danger, #dc3545);
    color: #721c24;
}

.info-box-warning {
    background: #fff3cd;
    border-left: 4px solid var(--color-warning, #ffc107);
    color: #856404;
}

.info-box-info {
    background: #d1ecf1;
    border-left: 4px solid var(--color-primary, #667eea);
    color: #0c5460;
}

/* =============================================
   Card Ïä§ÌÉÄÏùº
   ============================================= */
.card {
    background: var(--text-light, #ffffff);
    border-radius: var(--radius-md, 8px);
    box-shadow: var(--shadow-sm, 0 2px 8px rgba(0, 0, 0, 0.1));
    overflow: hidden;
}

.card-header {
    padding: 15px var(--spacing-lg, 24px);
    background: var(--bg-secondary, #f8f9fa);
    border-bottom: 1px solid var(--border-color, #dee2e6);
    font-weight: 600;
    color: var(--text-dark, #333333);
}

.card-body {
    padding: var(--spacing-lg, 24px);
}

.card-footer {
    padding: 15px var(--spacing-lg, 24px);
    background: var(--bg-secondary, #f8f9fa);
    border-top: 1px solid var(--border-color, #dee2e6);
}

/* =============================================
   Divider
   ============================================= */
.divider {
    height: 1px;
    background: var(--border-color, #dee2e6);
    margin: 15px 0;
}

.divider-vertical {
    width: 1px;
    background: var(--border-color, #dee2e6);
    height: 100%;
}

/* =============================================
   Ïú†Ìã∏Î¶¨Ìã∞ ÌÅ¥ÎûòÏä§
   ============================================= */

/* Hidden - ÏôÑÏ†Ñ Ïà®ÍπÄ */
.hidden {
    display: none !important;
}

/* Disabled - ÎπÑÌôúÏÑ±Ìôî */
.disabled {
    opacity: 0.5;
    pointer-events: none;
}

/* Margin Utilities */
.mt-10 {
    margin-top: 10px;
}

.mt-20 {
    margin-top: 20px;
}

.mb-10 {
    margin-bottom: 10px;
}

.mb-20 {
    margin-bottom: 20px;
}

.ml-10 {
    margin-left: 10px;
}

.mr-10 {
    margin-right: 10px;
}

/* Padding Utilities */
.p-10 {
    padding: 10px;
}

.p-20 {
    padding: 20px;
}

/* Flex Utilities */
.flex {
    display: flex;
}

.flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}

.flex-between {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.flex-column {
    display: flex;
    flex-direction: column;
}

.gap-10 {
    gap: 10px;
}

.gap-20 {
    gap: 20px;
}

/* Text Utilities */
.text-center {
    text-align: center;
}

.text-right {
    text-align: right;
}

.text-muted {
    color: var(--text-muted, #6c757d);
}

.text-success {
    color: var(--color-success, #28a745);
}

.text-danger {
    color: var(--color-danger, #dc3545);
}

.text-warning {
    color: var(--color-warning, #ffc107);
}

/* =============================================
   Connection Pool Info
   ============================================= */
.connection-pool-info {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background-color: var(--bg-secondary, #f8f9fa);
    border-radius: var(--radius-md, 8px);
    margin-bottom: var(--spacing-md, 16px);
}

.pool-label {
    font-size: var(--font-size-base, 14px);
    color: var(--text-secondary, #6c757d);
    font-weight: 500;
}

.pool-stats {
    display: flex;
    gap: var(--spacing-md, 16px);
}

.pool-item {
    font-size: var(--font-size-sm, 12px);
    padding: var(--spacing-xs, 4px) var(--spacing-sm, 8px);
    border-radius: var(--radius-sm, 4px);
    font-weight: 500;
}

.pool-item.active {
    background-color: #d4edda;
    color: #155724;
}

.pool-item.idle {
    background-color: #d1ecf1;
    color: #0c5460;
}

.pool-item.max {
    background-color: #e2e3e5;
    color: #383d41;
}

/* =============================================
   Loading State
   ============================================= */
.loading {
    position: relative;
    pointer-events: none;
}

.loading::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(255, 255, 255, 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
}

/* =============================================
   Responsive - Î™®Î∞îÏùº
   ============================================= */
@media (max-width: 768px) {
    .card-header,
    .card-body,
    .card-footer {
        padding: 12px var(--spacing-md, 16px);
    }
    
    .connection-pool-info {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .pool-stats {
        flex-wrap: wrap;
    }
}